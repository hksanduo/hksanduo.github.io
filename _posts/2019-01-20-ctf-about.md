---
title: "CTF基础介绍"
date:   2019-01-20  18:00:00 +0800
layout: post
tag: 
- CTF
categories:
- Security
---
# CTF 基础
------
CTF(Capture The Flag，夺旗赛），在网络安全领域中指安全人员之间进行技术竞技的一种比赛。
## 起源
CTF起源于1996年DEFCON全球黑客大会，以代替之前黑客们通过互相发起真实攻击进行技术比拼的方式。发展至今，已经成为全球范围网络安全圈流行的竞赛形式，2013年全球举办了超过五十场国际性CTF赛事。而DEFCON作为CTF赛制的发源地，DEFCON CTF也成为了目前全球最高技术水平和影响力的CTF竞赛，类似于CTF赛场中的“世界杯” 。
## CTF赛事
>* ISCC(信息安全与对抗技术竞赛)
>* ISG（中国网络安全技能竞赛）
>* XCTF（XCTF国际网络攻防联赛）
>* ...
## CTF竞赛模式
>* 解题模式
>* 攻防模式
>* 防御模式
>* 混合模式
>* 综合模式
### 解题模式
常见于线上选拨比赛，参赛队伍需要运用安全相关的理论知识及技术来解决问题，并获取一串被称为flag的字符串进行提交，以此来获取分数
特点：每一道题目都有相应的分值，同一类题目中难度越大分值越高
### 综合模式
综合靶场贴合行业用户业务系统架构，整个综合靶场由多台漏洞靶机构成。用户可以有多个攻防入口多种攻防路径选择，让参赛选手在大型真实的行业业务系统中进行挑战，难度较高
### 攻防模式
每个参赛队伍既是攻击者又是防御者，保证自己的服务器不被攻击、服务不中断。通过漏洞挖掘、流量分析等方式找到可利用的漏洞，攻击其他队伍的服务器。
### 防御模式
每个参赛队伍均是防御者，保证自己的服务器不被攻击、服务不中断。
### 混合模式
结合解题模式与攻防模式的CTF赛制，如通过解题模式获取一些初始分数，然后通过攻防对抗进行得分增减的零和游戏
## 现状
由于国内重视网络安全法，从18年开始出现爆发时增长态势，各种层次不齐的CTF赛事层出不穷。
### 比赛形式
>* 线上预选赛
>* 线下半决赛
>* 线下总决赛
### 价值体现
行业选拔人才，提升重要行业部门，科研院校的网络安全实战能力；行业提高安全部门的入侵检测和防御能力，增加公司荣誉；个人提高就业机会和增加零花钱。
## CTF 题型
### Web
SQL,XSS,文件上传，ssrf，远程命令执行等等
>* 一、爆破，包括包括md5、爆破随机数、验证码识别等
>* 二、绕WAF，包括花式绕Mysql、绕文件读取关键词检测之类拦截
>* 三、花式玩弄几个PHP特性，包括弱类型，strpos和===，反序列化+destruct、\0截断、iconv截断、
>* 四、密码题，包括hash长度扩展、异或、移位加密各种变形、32位随机数过小
>* 五、各种找源码技巧，包括git、svn、xxx.php.swp、*www*.(zip|tar.gz|rar|7z)、xxx.php.bak、
>* 六、文件上传，包括花式文件后缀 .php345 .inc .phtml .phpt .phps、各种文件内容检测<?php <? <% <script language=php>、花式解析漏洞、
>* 七、Mysql类型差异，包括和PHP弱类型类似的特性,0x、0b、1e之类，varchar和integer相互转换
>* 八、open_basedir、disable_functions花式绕过技巧，包括dl、mail、imagick、bash漏洞、DirectoryIterator及各种二进制选手插足的方法
>* 九、条件竞争，包括竞争删除前生成shell、竞争数据库无锁多扣钱
>* 十、社工，包括花式查社工库、微博、QQ签名、whois
>* 十一、windows特性，包括短文件名、IIS解析漏洞、NTFS文件系统通配符、::$DATA，冒号截断
>* 十二、SSRF，包括花式探测端口，302跳转、花式协议利用、gophar直接取shell等
>* 十三、XSS，各种浏览器auditor绕过、富文本过滤黑白名单绕过、flash xss、CSP绕过
>* 十四、XXE，各种XML存在地方（rss/word/流媒体）、各种XXE利用方法（SSRF、文件读取）
>* 十五、协议，花式IP伪造 X-Forwarded-For/X-Client-IP/X-Real-IP/CDN-Src-IP、花式改UA，花式藏FLAG、花式分析数据包
>* 以上参考自：https://weibo.com/ttarticle/p/show?id=2309403980950244591011
### PWN
* 攻击远程服务器的服务
* 会提供服务程序的二进制文件
* 分析漏洞并写出exp
* 栈溢出、堆溢出
* 绕过保护机制（ASLR,NX等）
给出一个有漏洞的程序，参赛者通过二进制漏洞挖掘与利用，如静态分析和动态分析来攻破该运行程序。如利用Buffer Overflow、Format String、命令执行等。使用的工具有：pwntools,IDA,GDB.....\
### 逆向
主要考察选手对于源代码及二进制逆向分析能力，要求熟悉操作系统、汇编语言、加解密等知识
* 逆向，破解程序的算法来得到程序中的flag
* 对抗反调试、代码混淆等等
使用的工具有：IDA,onlydbg,GDB,Dex2jar.....

### 移动安全
移动应用安全
### 杂项
* Stego（隐写）
1.图片隐写
文件拼接，文件修复，LSB,EXIF,图片处理，图片内容等等。
2.音频隐写
隐藏在声音里（顺序、逆序）、隐藏在数据里、隐藏在声波和频谱里，常用的工具有：Audacity,Matlab.silienteye。
3,视频隐写
主要是在metadata，或者在帧里面，帧转化成图片隐写
主要工具：strings/010Editor、ffmpeg
* CRYPTO（解密）
常见编码、代码混淆与加密、古典密码、单向散列、现代密码、自定义加密、特殊密码
* PPC（编程）
考察快速编程能力。
* Forensics（取证）
1、网络流量分析，从数据流中取字符串，从数据流中取文件，从协议相关数据提取。
2、日志分析，SQL注入日志分析，结合web进行漏洞分析、WEBSHELL的查找、用户访问敏感路径的查找。
3、Office取证
藏在解压文件中、藏在doc十六进制中、文件爆破
* Other（其他）
文件修复、密码爆破、伪加密位、明文攻击、CRC32碰撞

## CTF学习
CTF学习需要掌握计算机基础、web应用、数据库等知识，详细请参考[CTF学习]（https://hksanduo.github.io/security/2018/07/19/awesome-ctf-learning-lists/）

------
附：有什么问题请及时联系本人，本人CTF新人，多谢关照。
